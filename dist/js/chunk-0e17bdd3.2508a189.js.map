{"version":3,"sources":["webpack:///./src/views/product/Products.vue?d90f","webpack:///./src/views/product/Products.vue?efcc","webpack:///./src/views/product/Products.vue?8266","webpack:///src/views/product/Products.vue","webpack:///./src/views/product/Products.vue?c301","webpack:///./src/views/product/Products.vue","webpack:///./src/mixins/product.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","perPageOptions","model","value","callback","$$v","perPage","expression","filter","name","_e","products","fields","currentPage","on","onFiltered","scopedSlots","_u","key","fn","data","api","endpoint","item","logo","avatarText","$event","getProduct","product_id","proxy","_s","category","url","num_plans","status","Date","created_at","toDateString","directives","rawName","modifiers","numProducts","totalRows","staticRenderFns","components","BCard","BMedia","BAvatar","BBadge","BRow","BCol","BTable","BFormInput","BButton","BPagination","BLink","vSelect","mixins","product","$store","getters","computed","created","getProducts","methods","filteredItems","length","component","dispatch","then","catch","error","toast","response","messages","addProduct","$refs","addProductValidation","validate","success","form","productUrl","description","$router","push","updateProduct","updateProductValidation","productID","undefined","$nextTick","toggle","updateProductLogo","removeProductLogo","params","addPlan","addPlanValidation","planName","planPrice","planLink","planCommission","planSlug","editPlan","editPlanValidation","productIDView","productPlanID","planNameView","planPriceView","planLinkView","planCommissionView","planSlugView","deletePlan","$bvModal","msgBoxConfirm","title","size","okVariant","okTitle","cancelTitle","cancelVariant","hideHeaderClose","centered","toggleStatus"],"mappings":"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","file":"js/chunk-0e17bdd3.2508a189.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=e7f333bc&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{staticClass:\"mb-0\",attrs:{\"no-body\":\"\"}},[_c('div',{staticClass:\"m-2\"},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center justify-content-start mb-1 mb-md-0\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('label',[_vm._v(\"Show\")]),_c('v-select',{staticClass:\"per-page-selector d-inline-block mx-50\",attrs:{\"options\":_vm.perPageOptions,\"clearable\":false},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}}),_c('label',[_vm._v(\"entries\")])],1),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"d-flex align-items-center justify-content-end\"},[_c('b-form-input',{staticClass:\"d-inline-block mr-1\",attrs:{\"placeholder\":\"Search...\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),(_vm.isAdmin)?_c('b-button',{attrs:{\"variant\":\"primary\",\"to\":{ name: 'add-product' }}},[_c('span',{staticClass:\"text-nowrap\"},[_vm._v(\"Add Product\")])]):_vm._e()],1)])],1)],1),_c('b-table',{staticClass:\"position-relative mb-0\",attrs:{\"items\":_vm.products,\"fields\":_vm.fields,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"filter\":_vm.filter,\"striped\":\"\",\"responsive\":\"\",\"show-empty\":\"\"},on:{\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(data){return [_c('b-media',{attrs:{\"vertical-align\":\"center\"},scopedSlots:_vm._u([{key:\"aside\",fn:function(){return [_c('b-avatar',{attrs:{\"size\":\"32\",\"rounded\":\"\",\"src\":_vm.api.endpoint+'/uploads/'+data.item.logo,\"text\":_vm.avatarText((\"\" + (data.item.name))),\"variant\":\"light-info\"},on:{\"click\":function($event){return _vm.getProduct(data.item.product_id)}}})]},proxy:true}],null,true)},[_c('b-link',{staticClass:\"font-weight-bold d-block text-nowrap text-uppercase\",on:{\"click\":function($event){return _vm.getProduct(data.item.product_id)}}},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(data.item.category))])],1)]}},{key:\"cell(url)\",fn:function(data){return [_c('a',{attrs:{\"href\":data.item.url,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(data.item.url)+\" \")])]}},{key:\"cell(num_plans)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.num_plans)+\" plans \")]}},{key:\"cell(status)\",fn:function(data){return [(data.item.status === '1')?_c('b-badge',{staticClass:\"text-capitalize\",attrs:{\"pill\":\"\",\"variant\":\"light-success\"}},[_vm._v(\" Active \")]):_vm._e(),(data.item.status === '0')?_c('b-badge',{staticClass:\"text-capitalize\",attrs:{\"pill\":\"\",\"variant\":\"light-danger\"}},[_vm._v(\" Inactive \")]):_vm._e()]}},{key:\"cell(created_at)\",fn:function(data){return [_vm._v(\" \"+_vm._s(new Date(data.item.created_at).toDateString())+\" \")]}},{key:\"cell(actions)\",fn:function(data){return [_c('div',{staticClass:\"text-nowrap\"},[_c('feather-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",value:('View'),expression:\"'View'\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"cursor-pointer mx-1\",attrs:{\"id\":(\"view-\" + (data.item.product_id)),\"icon\":\"EyeIcon\",\"size\":\"16\"},on:{\"click\":function($event){return _vm.getProduct(data.item.product_id)}}})],1)]}}])}),_c('div',{staticClass:\"mx-2 mb-2 mt-1\"},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center justify-content-center justify-content-sm-start\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"There are \"+_vm._s(_vm.numProducts)+\" products\")])]),_c('b-col',{staticClass:\"d-flex align-items-center justify-content-center justify-content-sm-end\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('b-pagination',{staticClass:\"mb-0 mt-1 mt-sm-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-card\r\n      no-body\r\n      class=\"mb-0\"\r\n    >\r\n      <div class=\"m-2\">\r\n        <b-row>\r\n          <b-col\r\n            cols=\"12\"\r\n            md=\"6\"\r\n            class=\"d-flex align-items-center justify-content-start mb-1 mb-md-0\"\r\n          >\r\n            <label>Show</label>\r\n            <v-select\r\n              v-model=\"perPage\"\r\n              :options=\"perPageOptions\"\r\n              :clearable=\"false\"\r\n              class=\"per-page-selector d-inline-block mx-50\"\r\n            />\r\n            <label>entries</label>\r\n          </b-col>\r\n          <b-col\r\n            cols=\"12\"\r\n            md=\"6\"\r\n          >\r\n            <div class=\"d-flex align-items-center justify-content-end\">\r\n              <b-form-input\r\n                v-model=\"filter\"\r\n                class=\"d-inline-block mr-1\"\r\n                placeholder=\"Search...\"\r\n              />\r\n              <b-button\r\n                v-if=\"isAdmin\"\r\n                variant=\"primary\"\r\n                :to=\"{ name: 'add-product' }\"\r\n              >\r\n                <span class=\"text-nowrap\">Add Product</span>\r\n              </b-button>\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n      <b-table\r\n        class=\"position-relative mb-0\"\r\n        :items=\"products\"\r\n        :fields=\"fields\"\r\n        :per-page=\"perPage\"\r\n        :current-page=\"currentPage\"\r\n        :filter=\"filter\"\r\n        striped\r\n        responsive\r\n        show-empty\r\n        @filtered=\"onFiltered\"\r\n      >\r\n        <template #cell(name)=\"data\">\r\n          <b-media vertical-align=\"center\">\r\n            <template #aside>\r\n              <b-avatar\r\n                size=\"32\"\r\n                rounded\r\n                :src=\"api.endpoint+'/uploads/'+data.item.logo\"\r\n                :text=\"avatarText(`${data.item.name}`)\"\r\n                variant=\"light-info\"\r\n                @click=\"getProduct(data.item.product_id)\"\r\n              />\r\n            </template>\r\n            <b-link\r\n              class=\"font-weight-bold d-block text-nowrap text-uppercase\"\r\n              @click=\"getProduct(data.item.product_id)\"\r\n            >\r\n              {{ data.item.name }}\r\n            </b-link>\r\n            <small class=\"text-muted\">{{ data.item.category }}</small>\r\n          </b-media>\r\n        </template>\r\n        <template #cell(url)=\"data\">\r\n          <a\r\n            :href=\"data.item.url\"\r\n            target=\"_blank\"\r\n          >\r\n            {{ data.item.url }}\r\n          </a>\r\n        </template>\r\n        <template #cell(num_plans)=\"data\">\r\n          {{ data.item.num_plans }} plans\r\n        </template>\r\n        <template #cell(status)=\"data\">\r\n          <b-badge\r\n            v-if=\"data.item.status === '1'\"\r\n            pill\r\n            variant=\"light-success\"\r\n            class=\"text-capitalize\"\r\n          >\r\n            Active\r\n          </b-badge>\r\n          <b-badge\r\n            v-if=\"data.item.status === '0'\"\r\n            pill\r\n            variant=\"light-danger\"\r\n            class=\"text-capitalize\"\r\n          >\r\n            Inactive\r\n          </b-badge>\r\n        </template>\r\n        <template #cell(created_at)=\"data\">\r\n          {{ new Date(data.item.created_at).toDateString() }}\r\n        </template>\r\n        <template #cell(actions)=\"data\">\r\n          <div class=\"text-nowrap\">\r\n            <feather-icon\r\n              :id=\"`view-${data.item.product_id}`\"\r\n              v-b-tooltip.hover.top=\"'View'\"\r\n              icon=\"EyeIcon\"\r\n              size=\"16\"\r\n              class=\"cursor-pointer mx-1\"\r\n              @click=\"getProduct(data.item.product_id)\"\r\n            />\r\n          </div>\r\n        </template>\r\n      </b-table>\r\n      <div class=\"mx-2 mb-2 mt-1\">\r\n        <b-row>\r\n          <b-col\r\n            cols=\"12\"\r\n            sm=\"6\"\r\n            class=\"d-flex align-items-center justify-content-center justify-content-sm-start\"\r\n          >\r\n            <span class=\"text-muted\">There are {{ numProducts }} products</span>\r\n          </b-col>\r\n          <b-col\r\n            cols=\"12\"\r\n            sm=\"6\"\r\n            class=\"d-flex align-items-center justify-content-center justify-content-sm-end\"\r\n          >\r\n            <b-pagination\r\n              v-model=\"currentPage\"\r\n              :total-rows=\"totalRows\"\r\n              :per-page=\"perPage\"\r\n              class=\"mb-0 mt-1 mt-sm-0\"\r\n            />\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BCard, BTable, BRow, BCol, BMedia, BAvatar, BBadge, BFormInput, BButton, BPagination, BLink, VBTooltip,\r\n} from 'bootstrap-vue'\r\nimport vSelect from 'vue-select'\r\nimport product from '@/mixins/product'\r\nimport { avatarText } from '@core/utils/filter'\r\nimport api from '@/apiConfig'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    BCard,\r\n    BMedia,\r\n    BAvatar,\r\n    BBadge,\r\n    BRow,\r\n    BCol,\r\n    BTable,\r\n    BFormInput,\r\n    BButton,\r\n    BPagination,\r\n    BLink,\r\n    vSelect,\r\n  },\r\n  directives: {\r\n    'b-tooltip': VBTooltip,\r\n  },\r\n  mixins: [product],\r\n  data() {\r\n    return {\r\n      api,\r\n      perPage: 5,\r\n      perPageOptions: [5, 10, 25, 100],\r\n      filter: null,\r\n      totalRows: this.$store.getters['product/getNumProducts'],\r\n      currentPage: 1,\r\n      avatarText,\r\n      fields: [\r\n        { key: 'name', sortable: true },\r\n        { key: 'url', sortable: true },\r\n        { key: 'num_plans', label: 'product plans', sortable: true },\r\n        { key: 'status' },\r\n        { key: 'created_at', label: 'Added', sortable: true },\r\n        { key: 'actions', thStyle: { width: '10%' } },\r\n      ],\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      products: 'product/getAllProducts',\r\n      numProducts: 'product/getNumProducts',\r\n      isAdmin: 'auth/getIsAdmin',\r\n    }),\r\n  },\r\n  created() {\r\n    this.getProducts()\r\n  },\r\n  methods: {\r\n    onFiltered(filteredItems) {\r\n      this.totalRows = filteredItems.length\r\n      this.currentPage = 1\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.per-page-selector {\r\n  width: 90px;\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n@import '@core/scss/vue/libs/vue-select.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=e7f333bc&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=e7f333bc&lang=scss&scoped=true&\"\nimport style1 from \"./Products.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7f333bc\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  methods: {\r\n    getProducts() {\r\n      this.$store.dispatch('product/getProducts').then().catch(error => {\r\n        this.toast('Get All Products Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n      })\r\n    },\r\n    addProduct() {\r\n      this.$refs.addProductValidation.validate().then(success => {\r\n        if (success) {\r\n          const form = {\r\n            name: this.name,\r\n            url: this.productUrl,\r\n            category: this.category.value,\r\n            description: this.description,\r\n            logo: this.logo,\r\n          }\r\n          this.$store.dispatch('product/addProduct', { form }).then(() => {\r\n            this.$router.push({ name: 'products' }).then(() => {\r\n              this.toast('Add Product', 'BellIcon', 'You have successfully added the product', 'success')\r\n            })\r\n          }).catch(error => {\r\n            this.toast('Add Product Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n          })\r\n        } else {\r\n          this.toast('Add Product Attempt', 'BellIcon', 'You must fill in all form fields correctly', 'warning')\r\n        }\r\n      })\r\n    },\r\n    updateProduct() {\r\n      this.$refs.updateProductValidation.validate().then(success => {\r\n        if (success) {\r\n          const form = {\r\n            productID: this.productID,\r\n            name: this.name,\r\n            url: this.productUrl,\r\n            category: this.category.value,\r\n            description: this.description,\r\n            logo: this.logo,\r\n          }\r\n          if (form.category === undefined) form.category = this.category\r\n          this.$store.dispatch('product/updateProduct', { form }).then(() => {\r\n            this.toast('Update Product', 'BellIcon', 'You have successfully updated product', 'success')\r\n            this.$nextTick(() => {\r\n              this.$refs['update-product-modal'].toggle('#edit-product-btn')\r\n            })\r\n          }).catch(error => {\r\n            this.toast('Update Product Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n          })\r\n        } else {\r\n          this.toast('Update Product Attempt', 'BellIcon', 'You must fill in all form fields correctly', 'warning')\r\n        }\r\n      })\r\n    },\r\n    updateProductLogo(logo) {\r\n      const form = {\r\n        productID: this.productID,\r\n        logo,\r\n      }\r\n      this.$store.dispatch('product/updateLogo', { form }).then(() => {\r\n        this.toast('Update Logo', 'BellIcon', 'You have successfully updated the product logo', 'success')\r\n      }).catch(error => {\r\n        this.toast('Update Logo Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n      })\r\n    },\r\n    removeProductLogo() {\r\n      const form = {\r\n        productID: this.productID,\r\n      }\r\n      this.$store.dispatch('product/removeLogo', { form }).then(() => {\r\n        this.toast('Remove Logo', 'BellIcon', 'You have successfully removed the product logo', 'success')\r\n      }).catch(error => {\r\n        this.toast('Remove Logo Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n      })\r\n    },\r\n    getProduct(productID) {\r\n      this.$store.dispatch('product/getProduct', { productID }).then(() => {\r\n        this.$router.push({ name: 'view-product', params: { productID } }).catch()\r\n      }).catch(error => {\r\n        this.toast('Get Product Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n      })\r\n    },\r\n    addPlan() {\r\n      this.$refs.addPlanValidation.validate().then(success => {\r\n        if (success) {\r\n          const form = {\r\n            productID: this.productID,\r\n            planName: this.planName,\r\n            planPrice: this.planPrice,\r\n            planLink: this.planLink,\r\n            planCommission: this.planCommission,\r\n            planSlug: this.planSlug,\r\n          }\r\n          this.$store.dispatch('product/addPlan', { form }).then(() => {\r\n            this.toast('Add Product Plan', 'BellIcon', 'You have successfully added the product plan', 'success')\r\n            this.$nextTick(() => {\r\n              this.$refs['add-plan-modal'].toggle('#add-btn')\r\n            })\r\n            this.planName = null\r\n            this.planPrice = null\r\n            this.planLink = null\r\n            this.planCommission = null\r\n            this.planSlug = null\r\n          }).catch(error => {\r\n            this.toast('Add Product Plan Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n          })\r\n        } else {\r\n          this.toast('Add Product Plan Attempt', 'BellIcon', 'You must fill in all form fields correctly', 'warning')\r\n        }\r\n      })\r\n    },\r\n    editPlan() {\r\n      this.$refs.editPlanValidation.validate().then(success => {\r\n        if (success) {\r\n          const form = {\r\n            productID: this.productIDView,\r\n            productPlanID: this.productPlanID,\r\n            planName: this.planNameView,\r\n            planPrice: this.planPriceView,\r\n            planLink: this.planLinkView,\r\n            planCommission: this.planCommissionView,\r\n            planSlug: this.planSlugView,\r\n          }\r\n          this.$store.dispatch('product/editPlan', { form }).then(() => {\r\n            this.toast('Update Product Plan', 'BellIcon', 'You have successfully updated the product plan', 'success')\r\n            this.$nextTick(() => {\r\n              this.$refs['edit-plan-modal'].toggle('#edit-btn')\r\n            })\r\n            this.planName = null\r\n            this.planPrice = null\r\n            this.planLink = null\r\n            this.planCommission = null\r\n            this.planSlug = null\r\n          }).catch(error => {\r\n            this.toast('Update Product Plan Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n          })\r\n        } else {\r\n          this.toast('Update Product Plan Attempt', 'BellIcon', 'You must fill in all form fields correctly', 'warning')\r\n        }\r\n      })\r\n    },\r\n    deletePlan() {\r\n      this.$bvModal.msgBoxConfirm('Please confirm that you want to delete this product plan', {\r\n        title: 'Delete Plan',\r\n        size: 'sm',\r\n        okVariant: 'primary',\r\n        okTitle: 'Confirm',\r\n        cancelTitle: 'Cancel',\r\n        cancelVariant: 'outline-secondary',\r\n        hideHeaderClose: false,\r\n        centered: true,\r\n      }).then(value => {\r\n        if (value) {\r\n          const form = {\r\n            productID: this.productID,\r\n            productPlanID: this.productPlanID,\r\n          }\r\n          this.$store.dispatch('product/deletePlan', { form }).then(() => {\r\n            this.toast('Delete Plan', 'BellIcon', 'You have successfully deleted the product plan', 'success')\r\n          }).catch(error => {\r\n            this.toast('Delete Plan Attempt', 'BellIcon', error.response.data.messages.error, 'danger')\r\n          })\r\n        }\r\n      })\r\n    },\r\n    toggleStatus(status, productID) {\r\n      if (status === '1') {\r\n        this.$bvModal.msgBoxConfirm('Please confirm that you want to deactivate this product?', {\r\n          title: 'Deactivate Product',\r\n          size: 'sm',\r\n          okVariant: 'primary',\r\n          okTitle: 'Confirm',\r\n          cancelTitle: 'Cancel',\r\n          cancelVariant: 'outline-secondary',\r\n          hideHeaderClose: false,\r\n          centered: true,\r\n        }).then(value => {\r\n          if (value) {\r\n            this.$store.dispatch('product/toggleProductStatus', { productID }).then(() => {\r\n              this.toast('Deactivate Product', 'BellIcon', 'The product was deactivated successfully', 'success')\r\n            }).catch(error => {\r\n              this.toast('Deactivate Product', 'BellIcon', error.response.data.messages.error, 'danger')\r\n            })\r\n          }\r\n        })\r\n      } else if (status === '0') {\r\n        this.$bvModal.msgBoxConfirm('Please confirm that you want to reactivate this product?', {\r\n          title: 'Reactivate Product',\r\n          size: 'sm',\r\n          okVariant: 'primary',\r\n          okTitle: 'Confirm',\r\n          cancelTitle: 'Cancel',\r\n          cancelVariant: 'outline-secondary',\r\n          hideHeaderClose: false,\r\n          centered: true,\r\n        }).then(value => {\r\n          if (value) {\r\n            this.$store.dispatch('product/toggleProductStatus', { productID }).then(() => {\r\n              this.toast('Reactivate Product', 'BellIcon', 'The product was reactivated successfully', 'success')\r\n            }).catch(error => {\r\n              this.toast('Reactivate Product', 'BellIcon', error.response.data.messages.error, 'danger')\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n  },\r\n}\r\n"],"sourceRoot":""}