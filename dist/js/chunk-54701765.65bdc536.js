(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54701765"],{3628:function(e,s,t){},"3f45":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("b-card",{staticClass:"mb-0",attrs:{"no-body":""}},[t("div",{staticClass:"m-2"},[t("b-row",[t("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"7"}},[t("label",[e._v("Show")]),t("v-select",{staticClass:"per-page-selector d-inline-block mx-50",attrs:{options:e.perPageOptions,clearable:!1},model:{value:e.perPage,callback:function(s){e.perPage=s},expression:"perPage"}}),t("label",[e._v("entries")])],1),t("b-col",{attrs:{cols:"12",md:"5"}},[t("div",{staticClass:"d-flex align-items-center justify-content-end"},[t("b-form-input",{staticClass:"d-inline-block mr-1",attrs:{placeholder:"Search..."},model:{value:e.filter,callback:function(s){e.filter=s},expression:"filter"}})],1)])],1)],1),t("b-table",{staticClass:"position-relative mb-0",attrs:{items:e.planCommissions,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,filter:e.filter,striped:"",responsive:"","show-empty":""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(plan_name)",fn:function(s){return[t("b-media",{attrs:{"vertical-align":"center"},scopedSlots:e._u([{key:"aside",fn:function(){return[t("b-avatar",{attrs:{size:"32",rounded:"",src:"",text:e.avatarText(""+s.item.plan_name),variant:"light-success"}})]},proxy:!0}],null,!0)},[t("b-link",{staticClass:"font-weight-bold d-block text-nowrap"},[e._v(" "+e._s(s.item.plan_name)+" ")]),t("small",{staticClass:"text-muted text-uppercase"},[e._v(e._s(s.item.product_name))])],1)]}},{key:"cell(plan_price)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.plan_price).toLocaleString("en"))+" ")]}},{key:"cell(plan_commission)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.plan_commission).toLocaleString("en"))+" ")]}},{key:"cell(gen_1)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.gen_1).toLocaleString("en"))+" ")]}},{key:"cell(gen_2)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.gen_2).toLocaleString("en"))+" ")]}},{key:"cell(gen_3)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.gen_3).toLocaleString("en"))+" ")]}},{key:"cell(gen_4)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.gen_4).toLocaleString("en"))+" ")]}},{key:"cell(gen_5)",fn:function(s){return[e._v(" ₦ "+e._s(parseInt(s.item.gen_5).toLocaleString("en"))+" ")]}}])}),t("div",{staticClass:"mx-2 mb-2 mt-1"},[t("b-row",[t("b-col",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-start",attrs:{cols:"12",sm:"6"}},[t("span",{staticClass:"text-muted"},[e._v("There are "+e._s(e.numPlanCommissions)+" pricing plans")])]),t("b-col",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-end",attrs:{cols:"12",sm:"6"}},[t("b-pagination",{staticClass:"mb-0 mt-1 mt-sm-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(s){e.currentPage=s},expression:"currentPage"}})],1)],1)],1)],1)],1)},i=[],o=t("5530"),a=t("205f"),r=t("34b6"),c=t("e8a3"),l=t("e98b"),m=t("a15b"),u=t("b28b"),p=t("29a1"),g=t("4797"),f=t("1947"),d=t("26d2"),b=t("aa59"),h=t("2616"),_=t("4a7a"),C=t.n(_),v=t("a4f4"),G=t("0e20"),k=t("2f62"),I={components:{BCard:a["a"],BMedia:r["a"],BAvatar:c["a"],BBadge:l["a"],BRow:m["a"],BCol:u["a"],BTable:p["a"],BFormInput:g["a"],BButton:f["a"],BPagination:d["a"],BLink:b["a"],vSelect:C.a},directives:{"b-tooltip":h["a"]},mixins:[v["a"]],data:function(){return{perPage:5,perPageOptions:[5,10,25,100],filter:null,totalRows:this.$store.getters["commission/getNumPlanCommissions"],currentPage:1,avatarText:G["a"],fields:[{key:"plan_name",label:"pricing plan",sortable:!0},{key:"plan_price",label:"price",sortable:!0},{key:"plan_commission",label:"commission",sortable:!0},{key:"gen_1",label:"affiliate retains",sortable:!0},{key:"gen_2",label:"1st gen",sortable:!0},{key:"gen_3",label:"2nd gen",sortable:!0},{key:"gen_4",label:"3rd gen",sortable:!0},{key:"gen_5",label:"4th gen",sortable:!0}]}},computed:Object(o["a"])({},Object(k["b"])({planCommissions:"commission/getPlanCommissions",numPlanCommissions:"commission/getNumPlanCommissions",currentGeneration:"commission/getCurrentGeneration"})),created:function(){this.getPlanCommissions()},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}}},y=I,P=(t("f87b"),t("6b3c"),t("2877")),B=Object(P["a"])(y,n,i,!1,null,"24022a10",null);s["default"]=B.exports},"6b3c":function(e,s,t){"use strict";t("7de1")},"7de1":function(e,s,t){},a4f4:function(e,s,t){"use strict";s["a"]={methods:{getCommissions:function(){var e=this;this.$store.dispatch("commission/getAllCommissions").then().catch((function(s){e.toast("Get All Commissions","BellIcon",s.response.data.messages.error,"danger")}))},setCurrentGeneration:function(e){var s=this;this.$store.dispatch("commission/setCurrentGeneration",{commissionID:e}).then((function(){s.toast("Set Current Generation","BellIcon","You changed the current generation successfully","success")})).catch((function(e){s.toast("Set Current Generation","BellIcon",e.response.data.messages.error,"danger")}))},submitEdit:function(){var e=this,s=0;switch(this.commissionNumGens){case 1:s=parseInt(this.commissionGen1)+parseInt(this.commissionGen2);break;case 2:s=parseInt(this.commissionGen1)+parseInt(this.commissionGen2)+parseInt(this.commissionGen3);break;case 3:s=parseInt(this.commissionGen1)+parseInt(this.commissionGen2)+parseInt(this.commissionGen3)+parseInt(this.commissionGen4);break;case 4:s=parseInt(this.commissionGen1)+parseInt(this.commissionGen2)+parseInt(this.commissionGen3)+parseInt(this.commissionGen4)+parseInt(this.commissionGen5);break}if(100!==s)this.toast("Edit Commissions","BellIcon","The sum of the commissions must equal 100. Currently, it is ".concat(s),"warning");else{var t={commissionID:this.commissionID,commissionNumGens:this.commissionNumGens,commissionGen1:this.commissionGen1,commissionGen2:this.commissionGen2,commissionGen3:this.commissionGen3,commissionGen4:this.commissionGen4,commissionGen5:this.commissionGen5};this.$store.dispatch("commission/editCommissions",{form:t}).then((function(){e.toast("Edit Commissions","BellIcon","You changed commission percentages successfully","success")})).catch((function(s){e.toast("Edit Commissions","BellIcon",s.response.data.messages.error,"danger")}))}},getPlanCommissions:function(){var e=this;this.$store.dispatch("commission/getPlanCommissions").then().catch((function(s){e.toast("Get Plan Commissions","BellIcon",s.response.data.messages.error,"danger")}))}}}},f87b:function(e,s,t){"use strict";t("3628")}}]);
//# sourceMappingURL=chunk-54701765.65bdc536.js.map